<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Rendered result</title>
  <style></style>
  <script>
    document.domain = '<%= APP_DOMAIN %>';

    document.addEventListener('DOMContentLoaded', function() { parent.postMessage('Bring it.', '*'); });

    onmessage = function (event) {
      if (event.origin === 'http://<%= APP_DOMAIN %>') {
        var info = JSON.parse(event.data);

        if(info.css) { document.querySelector('style').textContent = info.css; }

        if(info.html) { document.body.innerHTML = info.html; }
      }
    };
  </script>
</head>
<body></body>
</html>